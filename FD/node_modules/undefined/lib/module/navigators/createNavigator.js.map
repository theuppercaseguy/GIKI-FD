{"version":3,"names":["React","invariant","ThemeContext","createNavigator","NavigatorView","router","navigationConfig","Navigator","_React$Component","_inherits","props","context","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","state","descriptors","screenProps","theme","themeContext","_createClass","key","value","componentDidUpdate","setState","render","createElement","_extends","navigation","__source","fileName","_jsxFileName","lineNumber","getDerivedStateFromProps","nextProps","currentState","prevDescriptors","routes","TypeError","reduce","acc","route","getComponent","getComponentForRouteName","bind","routeName","childNavigation","getChildNavigation","options","getScreenOptions","Component","contextType","navigationOptions"],"sources":["createNavigator.js"],"sourcesContent":["import React from 'react';\nimport invariant from '../utils/invariant';\nimport ThemeContext from '../views/ThemeContext';\n\nfunction createNavigator(NavigatorView, router, navigationConfig) {\n  class Navigator extends React.Component {\n    static contextType = ThemeContext;\n    static router = router;\n    static navigationOptions = navigationConfig.navigationOptions;\n\n    constructor(props, context) {\n      super(props, context);\n\n      this.state = {\n        descriptors: {},\n        screenProps: this.props.screenProps,\n        theme: context,\n        themeContext: context,\n      };\n    }\n\n    static getDerivedStateFromProps(nextProps, currentState) {\n      const prevDescriptors = currentState.descriptors;\n      const { navigation, screenProps } = nextProps;\n      invariant(\n        navigation != null,\n        'The navigation prop is missing for this navigator. In react-navigation v3 and v4 you must set up your app container directly. More info: https://reactnavigation.org/docs/en/app-containers.html'\n      );\n      const { state } = navigation;\n      const { routes } = state;\n      if (typeof routes === 'undefined') {\n        throw new TypeError(\n          'No \"routes\" found in navigation state. Did you try to pass the navigation prop of a React component to a Navigator child? See https://reactnavigation.org/docs/en/custom-navigators.html#navigator-navigation-prop'\n        );\n      }\n\n      const descriptors = routes.reduce((acc, route) => {\n        if (\n          prevDescriptors &&\n          prevDescriptors[route.key] &&\n          route === prevDescriptors[route.key].state &&\n          screenProps === currentState.screenProps &&\n          currentState.themeContext === currentState.theme\n        ) {\n          acc[route.key] = prevDescriptors[route.key];\n          return acc;\n        }\n        const getComponent = router.getComponentForRouteName.bind(\n          null,\n          route.routeName\n        );\n        const childNavigation = navigation.getChildNavigation(route.key);\n        const options = router.getScreenOptions(\n          childNavigation,\n          screenProps,\n          currentState.themeContext\n        );\n        acc[route.key] = {\n          key: route.key,\n          getComponent,\n          options,\n          state: route,\n          navigation: childNavigation,\n        };\n        return acc;\n      }, {});\n\n      return { descriptors, screenProps, theme: state.themeContext };\n    }\n\n    componentDidUpdate() {\n      if (this.context !== this.state.themeContext) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({ themeContext: this.context });\n      }\n    }\n\n    render() {\n      return (\n        <NavigatorView\n          {...this.props}\n          screenProps={this.state.screenProps}\n          navigation={this.props.navigation}\n          navigationConfig={navigationConfig}\n          descriptors={this.state.descriptors}\n        />\n      );\n    }\n  }\n\n  return Navigator;\n}\n\nexport default createNavigator;\n"],"mappings":"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"}