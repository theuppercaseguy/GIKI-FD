{"version":3,"names":["_react","_interopRequireDefault","require","_invariant","_ThemeContext","_jsxFileName","createNavigator","NavigatorView","router","navigationConfig","Navigator","_React$Component","_inherits2","default","props","context","_this","_classCallCheck2","_possibleConstructorReturn2","_getPrototypeOf2","call","state","descriptors","screenProps","theme","themeContext","_createClass2","key","value","componentDidUpdate","setState","render","createElement","_extends2","navigation","__source","fileName","lineNumber","getDerivedStateFromProps","nextProps","currentState","prevDescriptors","invariant","routes","TypeError","reduce","acc","route","getComponent","getComponentForRouteName","bind","routeName","childNavigation","getChildNavigation","options","getScreenOptions","React","Component","contextType","ThemeContext","navigationOptions","_default","exports"],"sources":["createNavigator.js"],"sourcesContent":["import React from 'react';\nimport invariant from '../utils/invariant';\nimport ThemeContext from '../views/ThemeContext';\n\nfunction createNavigator(NavigatorView, router, navigationConfig) {\n  class Navigator extends React.Component {\n    static contextType = ThemeContext;\n    static router = router;\n    static navigationOptions = navigationConfig.navigationOptions;\n\n    constructor(props, context) {\n      super(props, context);\n\n      this.state = {\n        descriptors: {},\n        screenProps: this.props.screenProps,\n        theme: context,\n        themeContext: context,\n      };\n    }\n\n    static getDerivedStateFromProps(nextProps, currentState) {\n      const prevDescriptors = currentState.descriptors;\n      const { navigation, screenProps } = nextProps;\n      invariant(\n        navigation != null,\n        'The navigation prop is missing for this navigator. In react-navigation v3 and v4 you must set up your app container directly. More info: https://reactnavigation.org/docs/en/app-containers.html'\n      );\n      const { state } = navigation;\n      const { routes } = state;\n      if (typeof routes === 'undefined') {\n        throw new TypeError(\n          'No \"routes\" found in navigation state. Did you try to pass the navigation prop of a React component to a Navigator child? See https://reactnavigation.org/docs/en/custom-navigators.html#navigator-navigation-prop'\n        );\n      }\n\n      const descriptors = routes.reduce((acc, route) => {\n        if (\n          prevDescriptors &&\n          prevDescriptors[route.key] &&\n          route === prevDescriptors[route.key].state &&\n          screenProps === currentState.screenProps &&\n          currentState.themeContext === currentState.theme\n        ) {\n          acc[route.key] = prevDescriptors[route.key];\n          return acc;\n        }\n        const getComponent = router.getComponentForRouteName.bind(\n          null,\n          route.routeName\n        );\n        const childNavigation = navigation.getChildNavigation(route.key);\n        const options = router.getScreenOptions(\n          childNavigation,\n          screenProps,\n          currentState.themeContext\n        );\n        acc[route.key] = {\n          key: route.key,\n          getComponent,\n          options,\n          state: route,\n          navigation: childNavigation,\n        };\n        return acc;\n      }, {});\n\n      return { descriptors, screenProps, theme: state.themeContext };\n    }\n\n    componentDidUpdate() {\n      if (this.context !== this.state.themeContext) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({ themeContext: this.context });\n      }\n    }\n\n    render() {\n      return (\n        <NavigatorView\n          {...this.props}\n          screenProps={this.state.screenProps}\n          navigation={this.props.navigation}\n          navigationConfig={navigationConfig}\n          descriptors={this.state.descriptors}\n        />\n      );\n    }\n  }\n\n  return Navigator;\n}\n\nexport default createNavigator;\n"],"mappings":"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"}